<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<title>Insert title here</title>
</head>
<body>
	<div class="container mt-5 col-4 justify-content-center">
		<form id="deleteForm" th:action="@{/deleteMember(id=${member.id})}" method="post" onsubmit="return validateForm()">
			<div class="form-group text-center">
				<h4>비밀번호 확인</h4>
				<input type="password" class="form-control" name="pw" id="password" onchange="isSame()" th:value="${member.password}" />
				<input type="password" class="form-control mt-2" name="userPw" id="passwordCK"  onchange="isSame()" />&nbsp;&nbsp;<span id="same"></span>
				<button th:if="${ password == passwordCK }" type="submit" id ="deleteButton" class="btn btn-primary mt-3" style="display: none;">삭제</button>
			</div>
		</form>
	</div>
	
	<script>
	function isSame(){
		var password = document.getElementById("password").value;
		var confirmPassword = document.getElementById("passwordCK").value;
		var messageElement = document.getElementById("same");
		
		if(password === confirmPassword) {
			messageElement.textContent = "비밀번호가 일치합니다!";
			messageElement.style.color = "blue";
			document.getElementById("deleteButton").style.display = "inline";
		} else {
			messageElement.textContent = "비밀번호가 일치하지 않습니다. 다시 입력해주세요.";
			messageElement.style.color = "red";
			document.getElementById("deleteButton").style.display = "none";
		}
	}
	
	function validateForm() {
		var password = document.getElementById("password").value;
		var confirmPassword = document.getElementById("passwordCK").value;
		
		if(password !== confirmPassword) {
			alert("비밀번호가 일치하지 않습니다! 다시 입력해주세요.");
			return false;
		}
		
		return true;
	}	
	</script>
</body>
</html>











